name = "claude-memory-notifications"
main = "worker.js"
compatibility_date = "2024-01-01"
workers_dev = false

# Routes - handles /api/* on pranavjagadish.com
routes = [
  { pattern = "pranavjagadish.com/api/*", zone_name = "pranavjagadish.com" }
]

# KV Namespaces for device registry and notifications
[[kv_namespaces]]
binding = "DEVICES"
id = "57a287f89b7943debfe4242b73b274dc"

[[kv_namespaces]]
binding = "NOTIFICATIONS"
id = "bc3dc6bae76a43dfb997254aa5a7cf52"

# Environment variables (set via wrangler secret put)
# PUSHOVER_APP_TOKEN - Set with: wrangler secret put PUSHOVER_APP_TOKEN
# PUSHOVER_USER_KEY - Set with: wrangler secret put PUSHOVER_USER_KEY
# SLACK_BOT_TOKEN - Set with: wrangler secret put SLACK_BOT_TOKEN
# SLACK_CHANNEL - Set with: wrangler secret put SLACK_CHANNEL

[env.production]
name = "claude-memory-notifications"
routes = [
  { pattern = "pranavjagadish.com/api/*", zone_name = "pranavjagadish.com" }
]
